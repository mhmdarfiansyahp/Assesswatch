@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class"card-body">
    <div class="form-group">
        <label class="control-label">Nama skema</label>
        <input class="form-control" name="Nama_skema" id="Nama_skema" />
    </div>
    <div class="form-group">
        <label class="control-label">Tanggal Mulai</label>
        <input class="form-control" type="date" name="start_date" id="start_date" />
    </div>
    <div class="form-group">
        <label class="control-label">Tanggal Selesai</label>
        <input class="form-control" type="date" name="end_date" id="end_date" />
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary" onclick="simpan()">Simpan</button>
    </div>
</div>

<script>
    loadData();

    function loadData() {
        var Nama_skema = document.getElementById("Nama_skema").value
        var start_date = document.getElementById("start_date").value
        var end_date = document.getElementById("end_date").value

        var hostname + "https://localhost:8080/"
        var url = hostname + "GetSkema?id=" + id.value
        var method = "GET"
        $.ajax({
            url: url,
            method: method,
            contenType: "application/json",
            success: function (data) {
                var item = data.data
                Nama_skema.value = item.Nama_skema
                start_date.value = item.start_date
                end_date.value = item.end_date
            },
        });
    }

    function simpan() {
        var Nama_skema = document.getElementById("Nama_skema").value
        var start_date = document.getElementById("start_date").value
        var end_date = document.getElementById("end_date").value

        var hostname + "https://localhost:8080/"
        var url = hostname + "UpdateSkema"
        var method = "PUT"
        var input = {
            Nama_skema: Nama_skema,
            start_date: start_date,
            end_date: end_date,
        }
        var data = JSON.stringify(input)

        $.ajax({
            url: url,
            method: method,
            contenType: "application/json",
            success: function (data) {
                alert("Data Berhasil Ditambahkan")
            },
        });
    }
</script>
